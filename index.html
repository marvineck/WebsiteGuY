<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gong und Yoga</title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Gong und Yoga</h1>
        <p>Harmonie für Körper und Geist</p>
    </header>
    
    <div class="container">
        <div class="main-content">
            <h2>Willkommen bei Gong und Yoga</h2>
            <p>Wir bieten eine einzigartige Kombination aus Yoga-Praxis und der heilenden Kraft des Gongs. 
            Unsere Kurse sind für alle Erfahrungsstufen geeignet und helfen dir dabei, Körper und Geist in Einklang zu bringen.</p>
            
            <h3>Über unsere Kurse</h3>
            <p>Unsere Yogakurse verbinden traditionelle Asanas mit der tiefen Resonanz von Gongtönen. 
            Diese Kombination schafft eine tiefere Entspannung und intensivere meditative Erfahrung.</p>
            
            <div id="schedule-section">
                <h2>Aktuelle Termine</h2>
                <p>Hier findest du unsere aktuellen Yoga- und Gong-Termine:</p>
                <table id="schedule-table">
                    <thead>
                        <tr>
                            <th>Datum</th>
                            <th>Uhrzeit</th>
                            <th>Kurs</th>
                            <th>Freie Plätze</th>
                        </tr>
                    </thead>
                    <tbody id="schedule-body">
                        <!-- Termine werden hier dynamisch eingefügt -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="sidebar">
            <h3>Kontakt</h3>
            <p>Email: info@gongundyoga.de</p>
            <p>Telefon: 0123 456789</p>
            <p>Adresse: Yogastraße 42, 12345 Zenstadt</p>
            
            <h3>Öffnungszeiten</h3>
            <p>Montag - Freitag: 9:00 - 20:00 Uhr</p>
            <p>Samstag: 10:00 - 18:00 Uhr</p>
            <p>Sonntag: Geschlossen</p>
        </div>
    </div>
    
    <!-- Admin-Bereich -->
    <div class="admin-panel" id="admin-section">
        <h2>Terminverwaltung</h2>
        <p>Hier kannst du neue Termine hinzufügen oder bestehende verwalten.</p>
        
        <div>
            <h3>Neuen Termin hinzufügen</h3>
            <form id="add-event-form">
                <div>
                    <label for="event-date">Datum:</label>
                    <input type="date" id="event-date" required>
                </div>
                <div>
                    <label for="event-time">Uhrzeit:</label>
                    <input type="time" id="event-time" required>
                </div>
                <div>
                    <label for="event-title">Kurs:</label>
                    <input type="text" id="event-title" placeholder="z.B. Hatha Yoga mit Gong" required>
                </div>
                <div>
                    <label for="event-slots">Verfügbare Plätze:</label>
                    <input type="number" id="event-slots" min="1" value="10" required>
                </div>
                <button type="submit">Termin hinzufügen</button>
            </form>
        </div>
        
        <div>
            <h3>Termine bearbeiten/löschen</h3>
            <p>Wähle einen Termin aus der Liste unten, um ihn zu bearbeiten oder zu löschen.</p>
            <div id="edit-events-container">
                <!-- Liste der vorhandenen Termine zum Bearbeiten wird hier dynamisch eingefügt -->
            </div>
        </div>
    </div>
    
    <footer>
        <p>&copy; 2025 Gong und Yoga. Alle Rechte vorbehalten.</p>
    </footer>

    <script>
        // Daten im localStorage speichern
        let events = JSON.parse(localStorage.getItem('yogaEvents')) || [
            // Beispieltermine
            {
                id: 1,
                date: '2025-05-25',
                time: '18:00',
                title: 'Hatha Yoga & Gong Meditation',
                availableSlots: 8
            },
            {
                id: 2,
                date: '2025-05-27',
                time: '10:00',
                title: 'Morgendliche Gong-Klangschale',
                availableSlots: 5
            },
            {
                id: 3,
                date: '2025-05-29',
                time: '19:30',
                title: 'Yin Yoga mit Gong-Entspannung',
                availableSlots: 12
            }
        ];
        
        // Events nach Datum sortieren
        function sortEvents() {
            events.sort((a, b) => {
                const dateA = new Date(`${a.date} ${a.time}`);
                const dateB = new Date(`${b.date} ${b.time}`);
                return dateA - dateB;
            });
        }
        
        // Terminliste aktualisieren
        function updateScheduleTable() {
            sortEvents();
            const tableBody = document.getElementById('schedule-body');
            tableBody.innerHTML = '';
            
            events.forEach(event => {
                const row = document.createElement('tr');
                
                // Datum formatieren (von YYYY-MM-DD zu DD.MM.YYYY)
                const dateParts = event.date.split('-');
                const formattedDate = `${dateParts[2]}.${dateParts[1]}.${dateParts[0]}`;
                
                row.innerHTML = `
                    <td>${formattedDate}</td>
                    <td>${event.time} Uhr</td>
                    <td>${event.title}</td>
                    <td>${event.availableSlots}</td>
                `;
                tableBody.appendChild(row);
            });
            
            // In localStorage speichern
            localStorage.setItem('yogaEvents', JSON.stringify(events));
            
            // Bearbeitungsbereich aktualisieren
            updateEditEventsContainer();
        }
        
        // Bearbeitungsbereich aktualisieren
        function updateEditEventsContainer() {
            const container = document.getElementById('edit-events-container');
            container.innerHTML = '';
            
            events.forEach(event => {
                const eventDiv = document.createElement('div');
                eventDiv.style.padding = '10px';
                eventDiv.style.margin = '10px 0';
                eventDiv.style.border = '1px solid #ddd';
                eventDiv.style.borderRadius = '5px';
                
                // Datum formatieren
                const dateParts = event.date.split('-');
                const formattedDate = `${dateParts[2]}.${dateParts[1]}.${dateParts[0]}`;
                
                eventDiv.innerHTML = `
                    <p><strong>${formattedDate}, ${event.time} Uhr:</strong> ${event.title} (${event.availableSlots} Plätze)</p>
                    <div>
                        <button class="edit-btn" data-id="${event.id}">Bearbeiten</button>
                        <button class="delete-btn" data-id="${event.id}">Löschen</button>
                    </div>
                    <div id="edit-form-${event.id}" style="display: none; margin-top: 10px;">
                        <input type="date" id="edit-date-${event.id}" value="${event.date}">
                        <input type="time" id="edit-time-${event.id}" value="${event.time}">
                        <input type="text" id="edit-title-${event.id}" value="${event.title}">
                        <input type="number" id="edit-slots-${event.id}" value="${event.availableSlots}" min="0">
                        <button class="save-btn" data-id="${event.id}">Speichern</button>
                        <button class="cancel-btn" data-id="${event.id}">Abbrechen</button>
                    </div>
                `;
                container.appendChild(eventDiv);
            });
            
            // Event-Listener für Bearbeiten-Buttons
            document.querySelectorAll('.edit-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    document.getElementById(`edit-form-${id}`).style.display = 'block';
                });
            });
            
            // Event-Listener für Speichern-Buttons
            document.querySelectorAll('.save-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    const eventIndex = events.findIndex(e => e.id === id);
                    
                    if (eventIndex !== -1) {
                        events[eventIndex].date = document.getElementById(`edit-date-${id}`).value;
                        events[eventIndex].time = document.getElementById(`edit-time-${id}`).value;
                        events[eventIndex].title = document.getElementById(`edit-title-${id}`).value;
                        events[eventIndex].availableSlots = parseInt(document.getElementById(`edit-slots-${id}`).value);
                        
                        updateScheduleTable();
                    }
                });
            });
            
            // Event-Listener für Abbrechen-Buttons
            document.querySelectorAll('.cancel-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const id = this.getAttribute('data-id');
                    document.getElementById(`edit-form-${id}`).style.display = 'none';
                });
            });
            
            // Event-Listener für Löschen-Buttons
            document.querySelectorAll('.delete-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const id = parseInt(this.getAttribute('data-id'));
                    if (confirm('Möchtest du diesen Termin wirklich löschen?')) {
                        events = events.filter(e => e.id !== id);
                        updateScheduleTable();
                    }
                });
            });
        }
        
        // Event-Listener für das Formular zum Hinzufügen neuer Termine
        document.getElementById('add-event-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newEvent = {
                id: Date.now(), // Eindeutige ID generieren
                date: document.getElementById('event-date').value,
                time: document.getElementById('event-time').value,
                title: document.getElementById('event-title').value,
                availableSlots: parseInt(document.getElementById('event-slots').value)
            };
            
            events.push(newEvent);
            updateScheduleTable();
            
            // Formular zurücksetzen
            this.reset();
        });
        
        // Initialisierung
        updateScheduleTable();
    </script>
</body>
</html>